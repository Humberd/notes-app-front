<ul class="list">
  <li *ngFor="let tag of tagsRefresherService.data$ | async; trackBy: trackBy">
    <button
      class="tag"
      [class.selected]="notesRefresherService.isTagSelected$(tag.id) | async"
      (click)="chooseTag(tag)"
    >

      <div
        class="color-preview"
        [style.backgroundColor]="tag.backgroundColor"
      ></div>

      <span class="name">{{tag.name}}</span>

      <span class="notes-count">{{tag.notesCount}}</span>

      <button
        class="more-options"
        title="Options"
        libIconButton
        [mat-menu-trigger-for]="moreOptionsRef"
        (click)="$event.stopPropagation()"
      >
        <mat-icon>more_vert</mat-icon>
      </button>

      <mat-menu #moreOptionsRef>
        <button mat-menu-item>Edit</button>
        <button mat-menu-item>Delete</button>
      </mat-menu>

    </button>
  </li>
</ul>
